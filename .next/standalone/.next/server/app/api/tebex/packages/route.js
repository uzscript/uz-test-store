(()=>{var e={};e.id=580,e.ids=[580],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},56061:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>b,workAsyncStorage:()=>k,workUnitAsyncStorage:()=>h});var r={};s.r(r),s.d(r,{GET:()=>d,revalidate:()=>u});var a=s(42706),o=s(28203),n=s(45994),c=s(39187),i=s(49709);let u=3600;async function d(){try{let e=await i.A.getPackages();return c.NextResponse.json(e,{status:200,headers:{"Cache-Control":"public, s-maxage=3600, stale-while-revalidate=86400"}})}catch(e){return console.error("Failed to fetch packages:",e),c.NextResponse.json({error:"Failed to fetch packages"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/tebex/packages/route",pathname:"/api/tebex/packages",filename:"route",bundlePath:"app/api/tebex/packages/route"},resolvedPagePath:"/Users/farukkeklicek/Documents/GitHub/tebex/tebex_mantine-ui/src/app/api/tebex/packages/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:k,workUnitAsyncStorage:h,serverHooks:b}=p;function g(){return(0,n.patchFetch)({workAsyncStorage:k,workUnitAsyncStorage:h})}},96487:()=>{},78335:()=>{},49709:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});class r{constructor(e){this.baseUrl="https://headless.tebex.io/api",this.webstoreToken=e}async request(e,t={}){let s=`${this.baseUrl}${e}`,r=await fetch(s,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok){let e=await r.text();throw Error(`Tebex API Error: ${r.status} - ${e}`)}return await r.json()}async getPackages(){return(await this.request(`/accounts/${this.webstoreToken}/packages`)).data}async getPackage(e){return this.request(`/accounts/${this.webstoreToken}/packages/${e}`)}async createBasket(){return this.request(`/accounts/${this.webstoreToken}/baskets`,{method:"POST"})}async getBasket(e){return this.request(`/baskets/${e}`)}async addPackageToBasket(e,t,s=1,r){return this.request(`/baskets/${e}/packages`,{method:"POST",body:JSON.stringify({package_id:t,quantity:s,server_id:r})})}async removePackageFromBasket(e,t){return this.request(`/baskets/${e}/packages/${t}`,{method:"DELETE"})}async updatePackageQuantity(e,t,s){return this.request(`/baskets/${e}/packages/${t}`,{method:"PATCH",body:JSON.stringify({quantity:s})})}async applyCoupon(e,t){return this.request(`/accounts/${this.webstoreToken}/baskets/${e}/coupons`,{method:"POST",body:JSON.stringify({coupon_code:t})})}async removeCoupon(e,t){return this.request(`/accounts/${this.webstoreToken}/baskets/${e}/coupons/${t}`,{method:"DELETE"})}async applyGiftCard(e,t){return this.request(`/accounts/${this.webstoreToken}/baskets/${e}/giftcards`,{method:"POST",body:JSON.stringify({gift_card_code:t})})}async removeGiftCard(e,t){return this.request(`/accounts/${this.webstoreToken}/baskets/${e}/giftcards/${t}`,{method:"DELETE"})}async applyCreatorCode(e,t){return this.request(`/accounts/${this.webstoreToken}/baskets/${e}/creator-codes`,{method:"POST",body:JSON.stringify({creator_code:t})})}async removeCreatorCode(e){return this.request(`/accounts/${this.webstoreToken}/baskets/${e}/creator-codes`,{method:"DELETE"})}}let a=new r("p3it-8dcc2568698826f0dc6a6c5592c08be82b93f9ff")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,452],()=>s(56061));module.exports=r})();